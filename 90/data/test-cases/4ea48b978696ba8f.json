{"uid":"4ea48b978696ba8f","name":"test_freeze_db_process[/usr/bin/patroni]","fullName":"tests.integration.ha_tests.test_self_healing#test_freeze_db_process","historyId":"f19cf908e4f4066494ef1baefc04234b","time":{"start":1719279497862,"stop":1719279598479,"duration":100617},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"tmp_path_factory","time":{"start":1719279019699,"stop":1719279019699,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1719279019699,"stop":1719279019699,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1719279019699,"stop":1719279019935,"duration":236},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout","time":{"start":1719279384266,"stop":1719279389529,"duration":5263},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1719279497861,"stop":1719279497861,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1719279497861,"stop":1719279497861,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"passed","steps":[],"attachments":[{"uid":"97f023c5d9c6f660","name":"log","source":"97f023c5d9c6f660.txt","type":"text/plain","size":2737}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"continuous_writes::finalizer","time":{"start":1719279598480,"stop":1719279599498,"duration":1018},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1719279599499,"stop":1719279599499,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout::finalizer","time":{"start":1719282264224,"stop":1719282405967,"duration":141743},"status":"broken","statusMessage":"tenacity.RetryError: RetryError[<Future at 0x7fc81ffb49a0 state=finished raised AttributeError>]\n","statusTrace":"  File \"/home/runner/work/test-runners-2-github-x64-postgresql-k8s-operator/test-runners-2-github-x64-postgresql-k8s-operator/.tox/integration/lib/python3.10/site-packages/allure_commons/_allure.py\", line 221, in __call__\n    return self._fixture_function(*args, **kwargs)\n  File \"/home/runner/work/test-runners-2-github-x64-postgresql-k8s-operator/test-runners-2-github-x64-postgresql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 300, in finalizer\n    event_loop.run_until_complete(async_finalizer())\n  File \"/usr/lib/python3.10/asyncio/base_events.py\", line 649, in run_until_complete\n    return future.result()\n  File \"/home/runner/work/test-runners-2-github-x64-postgresql-k8s-operator/test-runners-2-github-x64-postgresql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 292, in async_finalizer\n    await gen_obj.__anext__()\n  File \"/home/runner/work/test-runners-2-github-x64-postgresql-k8s-operator/test-runners-2-github-x64-postgresql-k8s-operator/tests/integration/ha_tests/conftest.py\", line 68, in primary_start_timeout\n    await change_patroni_setting(ops_test, \"primary_start_timeout\", initial_primary_start_timeout)\n  File \"/home/runner/work/test-runners-2-github-x64-postgresql-k8s-operator/test-runners-2-github-x64-postgresql-k8s-operator/tests/integration/ha_tests/helpers.py\", line 98, in change_patroni_setting\n    for attempt in Retrying(stop=stop_after_delay(30 * 2), wait=wait_fixed(3)):\n  File \"/home/runner/work/test-runners-2-github-x64-postgresql-k8s-operator/test-runners-2-github-x64-postgresql-k8s-operator/.tox/integration/lib/python3.10/site-packages/tenacity/__init__.py\", line 435, in __iter__\n    do = self.iter(retry_state=retry_state)\n  File \"/home/runner/work/test-runners-2-github-x64-postgresql-k8s-operator/test-runners-2-github-x64-postgresql-k8s-operator/.tox/integration/lib/python3.10/site-packages/tenacity/__init__.py\", line 368, in iter\n    result = action(retry_state)\n  File \"/home/runner/work/test-runners-2-github-x64-postgresql-k8s-operator/test-runners-2-github-x64-postgresql-k8s-operator/.tox/integration/lib/python3.10/site-packages/tenacity/__init__.py\", line 411, in exc_check\n    raise retry_exc from fut.exception()\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1719282405968,"stop":1719282406979,"duration":1011},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1719282406981,"stop":1719282406981,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1719282406981,"stop":1719282406981,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1719282406981,"stop":1719282406982,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_self_healing"},{"name":"host","value":"fv-az1153-48"},{"name":"thread","value":"12491-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_self_healing"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"process","value":"'/usr/bin/patroni'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"cb3e124326f6af24","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":0,"passed":17,"unknown":0,"total":17},"items":[{"uid":"bbc6838c4d3bde27","reportUrl":"../89//#testresult/bbc6838c4d3bde27","status":"passed","time":{"start":1719193142134,"stop":1719193225864,"duration":83730}},{"uid":"1cbe271f33551fa3","reportUrl":"../88//#testresult/1cbe271f33551fa3","status":"passed","time":{"start":1719106709237,"stop":1719106806701,"duration":97464}},{"uid":"8c4fa5efb7a87209","reportUrl":"../87//#testresult/8c4fa5efb7a87209","status":"passed","time":{"start":1719020224690,"stop":1719020325607,"duration":100917}},{"uid":"7a00fd812bcd948b","reportUrl":"../86//#testresult/7a00fd812bcd948b","status":"passed","time":{"start":1718933875422,"stop":1718933968125,"duration":92703}},{"uid":"ae59e555eaf4f3c0","reportUrl":"../85//#testresult/ae59e555eaf4f3c0","status":"passed","time":{"start":1718847502746,"stop":1718847600918,"duration":98172}},{"uid":"b6b28b9253a8c501","reportUrl":"../84//#testresult/b6b28b9253a8c501","status":"passed","time":{"start":1718761133316,"stop":1718761231911,"duration":98595}},{"uid":"295e8d31b4caf8a1","reportUrl":"../83//#testresult/295e8d31b4caf8a1","status":"passed","time":{"start":1718674695185,"stop":1718674787734,"duration":92549}},{"uid":"9ba89e423d680b8a","reportUrl":"../82//#testresult/9ba89e423d680b8a","status":"passed","time":{"start":1718588487898,"stop":1718588574763,"duration":86865}},{"uid":"1dd92c9759e292f4","reportUrl":"../81//#testresult/1dd92c9759e292f4","status":"passed","time":{"start":1718501966225,"stop":1718502058002,"duration":91777}},{"uid":"44a79822538747b","reportUrl":"../80//#testresult/44a79822538747b","status":"passed","time":{"start":1718415550206,"stop":1718415648079,"duration":97873}},{"uid":"df495a92e55c319a","reportUrl":"../79//#testresult/df495a92e55c319a","status":"passed","time":{"start":1718329101445,"stop":1718329197498,"duration":96053}},{"uid":"13564f690156dbc6","reportUrl":"../77//#testresult/13564f690156dbc6","status":"passed","time":{"start":1718157138275,"stop":1718157230197,"duration":91922}},{"uid":"6a7c97a7679948fd","reportUrl":"../76//#testresult/6a7c97a7679948fd","status":"passed","time":{"start":1718069927905,"stop":1718070025444,"duration":97539}},{"uid":"1d695b8593db4fd","reportUrl":"../75//#testresult/1d695b8593db4fd","status":"passed","time":{"start":1717983578859,"stop":1717983671429,"duration":92570}},{"uid":"11f4d041b7e7aa8a","reportUrl":"../74//#testresult/11f4d041b7e7aa8a","status":"passed","time":{"start":1717897078268,"stop":1717897165713,"duration":87445}},{"uid":"2be773ef280c3e72","reportUrl":"../73//#testresult/2be773ef280c3e72","status":"passed","time":{"start":1717810688433,"stop":1717810785963,"duration":97530}}]},"tags":["asyncio","group(1)"]},"source":"4ea48b978696ba8f.json","parameterValues":["'/usr/bin/patroni'"]}