{"uid":"ed65a48f146bc397","name":"test_restart_db_process[postgres]","fullName":"tests.integration.ha_tests.test_self_healing#test_restart_db_process","historyId":"a9ad457c3a959b4124e0bcbca7775fea","time":{"start":1719279599501,"stop":1719279646472,"duration":46971},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"tmp_path_factory","time":{"start":1719279019699,"stop":1719279019699,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1719279019699,"stop":1719279019699,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1719279019699,"stop":1719279019935,"duration":236},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout","time":{"start":1719279384266,"stop":1719279389529,"duration":5263},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1719279599500,"stop":1719279599500,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1719279599500,"stop":1719279599500,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"passed","steps":[],"attachments":[{"uid":"2aabc5f6f8c525c4","name":"log","source":"2aabc5f6f8c525c4.txt","type":"text/plain","size":2189}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"continuous_writes::finalizer","time":{"start":1719279646473,"stop":1719279647494,"duration":1021},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1719279647495,"stop":1719279647495,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout::finalizer","time":{"start":1719282264224,"stop":1719282405967,"duration":141743},"status":"broken","statusMessage":"tenacity.RetryError: RetryError[<Future at 0x7fc81ffb49a0 state=finished raised AttributeError>]\n","statusTrace":"  File \"/home/runner/work/test-runners-2-github-x64-postgresql-k8s-operator/test-runners-2-github-x64-postgresql-k8s-operator/.tox/integration/lib/python3.10/site-packages/allure_commons/_allure.py\", line 221, in __call__\n    return self._fixture_function(*args, **kwargs)\n  File \"/home/runner/work/test-runners-2-github-x64-postgresql-k8s-operator/test-runners-2-github-x64-postgresql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 300, in finalizer\n    event_loop.run_until_complete(async_finalizer())\n  File \"/usr/lib/python3.10/asyncio/base_events.py\", line 649, in run_until_complete\n    return future.result()\n  File \"/home/runner/work/test-runners-2-github-x64-postgresql-k8s-operator/test-runners-2-github-x64-postgresql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 292, in async_finalizer\n    await gen_obj.__anext__()\n  File \"/home/runner/work/test-runners-2-github-x64-postgresql-k8s-operator/test-runners-2-github-x64-postgresql-k8s-operator/tests/integration/ha_tests/conftest.py\", line 68, in primary_start_timeout\n    await change_patroni_setting(ops_test, \"primary_start_timeout\", initial_primary_start_timeout)\n  File \"/home/runner/work/test-runners-2-github-x64-postgresql-k8s-operator/test-runners-2-github-x64-postgresql-k8s-operator/tests/integration/ha_tests/helpers.py\", line 98, in change_patroni_setting\n    for attempt in Retrying(stop=stop_after_delay(30 * 2), wait=wait_fixed(3)):\n  File \"/home/runner/work/test-runners-2-github-x64-postgresql-k8s-operator/test-runners-2-github-x64-postgresql-k8s-operator/.tox/integration/lib/python3.10/site-packages/tenacity/__init__.py\", line 435, in __iter__\n    do = self.iter(retry_state=retry_state)\n  File \"/home/runner/work/test-runners-2-github-x64-postgresql-k8s-operator/test-runners-2-github-x64-postgresql-k8s-operator/.tox/integration/lib/python3.10/site-packages/tenacity/__init__.py\", line 368, in iter\n    result = action(retry_state)\n  File \"/home/runner/work/test-runners-2-github-x64-postgresql-k8s-operator/test-runners-2-github-x64-postgresql-k8s-operator/.tox/integration/lib/python3.10/site-packages/tenacity/__init__.py\", line 411, in exc_check\n    raise retry_exc from fut.exception()\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1719282405968,"stop":1719282406979,"duration":1011},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1719282406981,"stop":1719282406981,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1719282406981,"stop":1719282406981,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1719282406981,"stop":1719282406982,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_self_healing"},{"name":"host","value":"fv-az1153-48"},{"name":"thread","value":"12491-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_self_healing"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"process","value":"'postgres'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"df488531807c343e","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":0,"passed":17,"unknown":0,"total":17},"items":[{"uid":"9c796299e51e42c6","reportUrl":"../89//#testresult/9c796299e51e42c6","status":"passed","time":{"start":1719193226888,"stop":1719193283925,"duration":57037}},{"uid":"9f742d1c19da6595","reportUrl":"../88//#testresult/9f742d1c19da6595","status":"passed","time":{"start":1719106807722,"stop":1719106849470,"duration":41748}},{"uid":"9aa0bbab0e0a0f9a","reportUrl":"../87//#testresult/9aa0bbab0e0a0f9a","status":"passed","time":{"start":1719020326631,"stop":1719020368387,"duration":41756}},{"uid":"e46be03757ef1107","reportUrl":"../86//#testresult/e46be03757ef1107","status":"passed","time":{"start":1718933969147,"stop":1718934018038,"duration":48891}},{"uid":"bb9bae4fc968715a","reportUrl":"../85//#testresult/bb9bae4fc968715a","status":"passed","time":{"start":1718847601941,"stop":1718847648722,"duration":46781}},{"uid":"6f2289cda3e7616c","reportUrl":"../84//#testresult/6f2289cda3e7616c","status":"passed","time":{"start":1718761232933,"stop":1718761274622,"duration":41689}},{"uid":"48aa3c2c9960868d","reportUrl":"../83//#testresult/48aa3c2c9960868d","status":"passed","time":{"start":1718674788759,"stop":1718674837792,"duration":49033}},{"uid":"1e661583dbdea12d","reportUrl":"../82//#testresult/1e661583dbdea12d","status":"passed","time":{"start":1718588575787,"stop":1718588622545,"duration":46758}},{"uid":"47323abd12ae25d","reportUrl":"../81//#testresult/47323abd12ae25d","status":"passed","time":{"start":1718502059030,"stop":1718502107948,"duration":48918}},{"uid":"4362e640a31a625c","reportUrl":"../80//#testresult/4362e640a31a625c","status":"passed","time":{"start":1718415649102,"stop":1718415687992,"duration":38890}},{"uid":"478618dbbd1f90ff","reportUrl":"../79//#testresult/478618dbbd1f90ff","status":"passed","time":{"start":1718329198522,"stop":1718329245301,"duration":46779}},{"uid":"c617841b059ae8b3","reportUrl":"../77//#testresult/c617841b059ae8b3","status":"passed","time":{"start":1718157231234,"stop":1718157278005,"duration":46771}},{"uid":"f1c6b74256b5dfd1","reportUrl":"../76//#testresult/f1c6b74256b5dfd1","status":"passed","time":{"start":1718070026467,"stop":1718070073321,"duration":46854}},{"uid":"e037b18ca8129928","reportUrl":"../75//#testresult/e037b18ca8129928","status":"passed","time":{"start":1717983672450,"stop":1717983719160,"duration":46710}},{"uid":"16d2c48896c4b104","reportUrl":"../74//#testresult/16d2c48896c4b104","status":"passed","time":{"start":1717897166733,"stop":1717897213451,"duration":46718}},{"uid":"52b2e0b2289b6e57","reportUrl":"../73//#testresult/52b2e0b2289b6e57","status":"passed","time":{"start":1717810786987,"stop":1717810833722,"duration":46735}}]},"tags":["asyncio","group(1)"]},"source":"ed65a48f146bc397.json","parameterValues":["'postgres'"]}