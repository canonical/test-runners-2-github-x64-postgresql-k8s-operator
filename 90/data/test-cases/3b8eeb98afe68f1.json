{"uid":"3b8eeb98afe68f1","name":"test_restart_db_process[/usr/bin/patroni]","fullName":"tests.integration.ha_tests.test_self_healing#test_restart_db_process","historyId":"2f08e1ab0e41cda77079b84fc6d18166","time":{"start":1719279647497,"stop":1719279694458,"duration":46961},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"tmp_path_factory","time":{"start":1719279019699,"stop":1719279019699,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1719279019699,"stop":1719279019699,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1719279019699,"stop":1719279019935,"duration":236},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout","time":{"start":1719279384266,"stop":1719279389529,"duration":5263},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1719279647496,"stop":1719279647496,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1719279647497,"stop":1719279647497,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"passed","steps":[],"attachments":[{"uid":"6ccc5c4201317e7f","name":"log","source":"6ccc5c4201317e7f.txt","type":"text/plain","size":2043}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"continuous_writes::finalizer","time":{"start":1719279694459,"stop":1719279695482,"duration":1023},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1719279695483,"stop":1719279695483,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout::finalizer","time":{"start":1719282264224,"stop":1719282405967,"duration":141743},"status":"broken","statusMessage":"tenacity.RetryError: RetryError[<Future at 0x7fc81ffb49a0 state=finished raised AttributeError>]\n","statusTrace":"  File \"/home/runner/work/test-runners-2-github-x64-postgresql-k8s-operator/test-runners-2-github-x64-postgresql-k8s-operator/.tox/integration/lib/python3.10/site-packages/allure_commons/_allure.py\", line 221, in __call__\n    return self._fixture_function(*args, **kwargs)\n  File \"/home/runner/work/test-runners-2-github-x64-postgresql-k8s-operator/test-runners-2-github-x64-postgresql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 300, in finalizer\n    event_loop.run_until_complete(async_finalizer())\n  File \"/usr/lib/python3.10/asyncio/base_events.py\", line 649, in run_until_complete\n    return future.result()\n  File \"/home/runner/work/test-runners-2-github-x64-postgresql-k8s-operator/test-runners-2-github-x64-postgresql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 292, in async_finalizer\n    await gen_obj.__anext__()\n  File \"/home/runner/work/test-runners-2-github-x64-postgresql-k8s-operator/test-runners-2-github-x64-postgresql-k8s-operator/tests/integration/ha_tests/conftest.py\", line 68, in primary_start_timeout\n    await change_patroni_setting(ops_test, \"primary_start_timeout\", initial_primary_start_timeout)\n  File \"/home/runner/work/test-runners-2-github-x64-postgresql-k8s-operator/test-runners-2-github-x64-postgresql-k8s-operator/tests/integration/ha_tests/helpers.py\", line 98, in change_patroni_setting\n    for attempt in Retrying(stop=stop_after_delay(30 * 2), wait=wait_fixed(3)):\n  File \"/home/runner/work/test-runners-2-github-x64-postgresql-k8s-operator/test-runners-2-github-x64-postgresql-k8s-operator/.tox/integration/lib/python3.10/site-packages/tenacity/__init__.py\", line 435, in __iter__\n    do = self.iter(retry_state=retry_state)\n  File \"/home/runner/work/test-runners-2-github-x64-postgresql-k8s-operator/test-runners-2-github-x64-postgresql-k8s-operator/.tox/integration/lib/python3.10/site-packages/tenacity/__init__.py\", line 368, in iter\n    result = action(retry_state)\n  File \"/home/runner/work/test-runners-2-github-x64-postgresql-k8s-operator/test-runners-2-github-x64-postgresql-k8s-operator/.tox/integration/lib/python3.10/site-packages/tenacity/__init__.py\", line 411, in exc_check\n    raise retry_exc from fut.exception()\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1719282405968,"stop":1719282406979,"duration":1011},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1719282406981,"stop":1719282406981,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1719282406981,"stop":1719282406981,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1719282406981,"stop":1719282406982,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_self_healing"},{"name":"host","value":"fv-az1153-48"},{"name":"thread","value":"12491-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_self_healing"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"process","value":"'/usr/bin/patroni'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"e93273e4aaccd679","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":0,"passed":17,"unknown":0,"total":17},"items":[{"uid":"53893181da6fb580","reportUrl":"../89//#testresult/53893181da6fb580","status":"passed","time":{"start":1719193284953,"stop":1719193334011,"duration":49058}},{"uid":"aa793ad01ec056f","reportUrl":"../88//#testresult/aa793ad01ec056f","status":"passed","time":{"start":1719106850491,"stop":1719106894378,"duration":43887}},{"uid":"686a775ab7f762a3","reportUrl":"../87//#testresult/686a775ab7f762a3","status":"passed","time":{"start":1719020369410,"stop":1719020418297,"duration":48887}},{"uid":"d0e607bc8fc5747","reportUrl":"../86//#testresult/d0e607bc8fc5747","status":"passed","time":{"start":1718934019059,"stop":1718934062925,"duration":43866}},{"uid":"746e39a70290c1bb","reportUrl":"../85//#testresult/746e39a70290c1bb","status":"passed","time":{"start":1718847649749,"stop":1718847698816,"duration":49067}},{"uid":"c0c9250a16d57","reportUrl":"../84//#testresult/c0c9250a16d57","status":"passed","time":{"start":1718761275644,"stop":1718761324612,"duration":48968}},{"uid":"60b4d6eb8dbe348c","reportUrl":"../83//#testresult/60b4d6eb8dbe348c","status":"passed","time":{"start":1718674838819,"stop":1718674875496,"duration":36677}},{"uid":"b89e6818ed0f395d","reportUrl":"../82//#testresult/b89e6818ed0f395d","status":"passed","time":{"start":1718588623567,"stop":1718588672487,"duration":48920}},{"uid":"410ee9b1740995dd","reportUrl":"../81//#testresult/410ee9b1740995dd","status":"passed","time":{"start":1718502108971,"stop":1718502147868,"duration":38897}},{"uid":"a9db84db94253238","reportUrl":"../80//#testresult/a9db84db94253238","status":"passed","time":{"start":1718415689016,"stop":1718415732959,"duration":43943}},{"uid":"a37e9242a6f658e8","reportUrl":"../79//#testresult/a37e9242a6f658e8","status":"passed","time":{"start":1718329246324,"stop":1718329283098,"duration":36774}},{"uid":"4e3e7c63a0469b3d","reportUrl":"../77//#testresult/4e3e7c63a0469b3d","status":"passed","time":{"start":1718157279028,"stop":1718157322993,"duration":43965}},{"uid":"a622ed4d20fa897a","reportUrl":"../76//#testresult/a622ed4d20fa897a","status":"passed","time":{"start":1718070074344,"stop":1718070123300,"duration":48956}},{"uid":"6b30b8d07a5f68ba","reportUrl":"../75//#testresult/6b30b8d07a5f68ba","status":"passed","time":{"start":1717983720183,"stop":1717983769145,"duration":48962}},{"uid":"7f6b975acc624649","reportUrl":"../74//#testresult/7f6b975acc624649","status":"passed","time":{"start":1717897214473,"stop":1717897263350,"duration":48877}},{"uid":"e66e1a2d19b3f25f","reportUrl":"../73//#testresult/e66e1a2d19b3f25f","status":"passed","time":{"start":1717810834744,"stop":1717810883722,"duration":48978}}]},"tags":["asyncio","group(1)"]},"source":"3b8eeb98afe68f1.json","parameterValues":["'/usr/bin/patroni'"]}