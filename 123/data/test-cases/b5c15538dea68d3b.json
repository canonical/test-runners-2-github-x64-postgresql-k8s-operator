{"uid":"b5c15538dea68d3b","name":"test_freeze_db_process[/usr/bin/patroni]","fullName":"tests.integration.ha_tests.test_self_healing#test_freeze_db_process","historyId":"f19cf908e4f4066494ef1baefc04234b","time":{"start":1721871913046,"stop":1721872015134,"duration":102088},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1721870972181,"stop":1721870972181,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1721870972181,"stop":1721870972426,"duration":245},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1721870972181,"stop":1721870972181,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout","time":{"start":1721871618775,"stop":1721871622943,"duration":4168},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1721871913045,"stop":1721871913045,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1721871913045,"stop":1721871913045,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"passed","steps":[],"attachments":[{"uid":"5562ad5f221fa90c","name":"log","source":"5562ad5f221fa90c.txt","type":"text/plain","size":2720}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"continuous_writes::finalizer","time":{"start":1721872015134,"stop":1721872016156,"duration":1022},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1721872016157,"stop":1721872016157,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout::finalizer","time":{"start":1721873847462,"stop":1721873935168,"duration":87706},"status":"broken","statusMessage":"tenacity.RetryError: RetryError[<Future at 0x7faaabfa1a20 state=finished raised AttributeError>]\n","statusTrace":"  File \"/home/runner/work/test-runners-2-github-x64-postgresql-k8s-operator/test-runners-2-github-x64-postgresql-k8s-operator/.tox/integration/lib/python3.10/site-packages/allure_commons/_allure.py\", line 221, in __call__\n    return self._fixture_function(*args, **kwargs)\n  File \"/home/runner/work/test-runners-2-github-x64-postgresql-k8s-operator/test-runners-2-github-x64-postgresql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 300, in finalizer\n    event_loop.run_until_complete(async_finalizer())\n  File \"/usr/lib/python3.10/asyncio/base_events.py\", line 649, in run_until_complete\n    return future.result()\n  File \"/home/runner/work/test-runners-2-github-x64-postgresql-k8s-operator/test-runners-2-github-x64-postgresql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 292, in async_finalizer\n    await gen_obj.__anext__()\n  File \"/home/runner/work/test-runners-2-github-x64-postgresql-k8s-operator/test-runners-2-github-x64-postgresql-k8s-operator/tests/integration/ha_tests/conftest.py\", line 68, in primary_start_timeout\n    await change_patroni_setting(ops_test, \"primary_start_timeout\", initial_primary_start_timeout)\n  File \"/home/runner/work/test-runners-2-github-x64-postgresql-k8s-operator/test-runners-2-github-x64-postgresql-k8s-operator/tests/integration/ha_tests/helpers.py\", line 108, in change_patroni_setting\n    for attempt in Retrying(stop=stop_after_delay(30 * 2), wait=wait_fixed(3)):\n  File \"/home/runner/work/test-runners-2-github-x64-postgresql-k8s-operator/test-runners-2-github-x64-postgresql-k8s-operator/.tox/integration/lib/python3.10/site-packages/tenacity/__init__.py\", line 443, in __iter__\n    do = self.iter(retry_state=retry_state)\n  File \"/home/runner/work/test-runners-2-github-x64-postgresql-k8s-operator/test-runners-2-github-x64-postgresql-k8s-operator/.tox/integration/lib/python3.10/site-packages/tenacity/__init__.py\", line 376, in iter\n    result = action(retry_state)\n  File \"/home/runner/work/test-runners-2-github-x64-postgresql-k8s-operator/test-runners-2-github-x64-postgresql-k8s-operator/.tox/integration/lib/python3.10/site-packages/tenacity/__init__.py\", line 419, in exc_check\n    raise retry_exc from fut.exception()\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1721873935169,"stop":1721873935622,"duration":453},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1721873935625,"stop":1721873935625,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1721873935625,"stop":1721873935625,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1721873935625,"stop":1721873935626,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_self_healing"},{"name":"host","value":"fv-az1024-201"},{"name":"thread","value":"12407-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_self_healing"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"process","value":"'/usr/bin/patroni'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"260adeae42899e7e","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":0,"broken":1,"skipped":1,"passed":45,"unknown":0,"total":47},"items":[{"uid":"cbc691d274e22527","reportUrl":"../122//#testresult/cbc691d274e22527","status":"passed","time":{"start":1721785521513,"stop":1721785614375,"duration":92862}},{"uid":"f132f3343f654bf9","reportUrl":"../121//#testresult/f132f3343f654bf9","status":"passed","time":{"start":1721699371410,"stop":1721699469012,"duration":97602}},{"uid":"28b0a86598d42d86","reportUrl":"../120//#testresult/28b0a86598d42d86","status":"passed","time":{"start":1721613293769,"stop":1721613386236,"duration":92467}},{"uid":"3b2cab89c0928c1b","reportUrl":"../119//#testresult/3b2cab89c0928c1b","status":"passed","time":{"start":1721526348763,"stop":1721526441268,"duration":92505}},{"uid":"2ddd4ee813591fa8","reportUrl":"../118//#testresult/2ddd4ee813591fa8","status":"passed","time":{"start":1721440171590,"stop":1721440255192,"duration":83602}},{"uid":"5c6f38234bf3f21f","reportUrl":"../117//#testresult/5c6f38234bf3f21f","status":"passed","time":{"start":1721357261137,"stop":1721357353638,"duration":92501}},{"uid":"8bdd8188bde4237","reportUrl":"../116//#testresult/8bdd8188bde4237","status":"passed","time":{"start":1721267608311,"stop":1721267706096,"duration":97785}},{"uid":"867f9c4fd0151e60","reportUrl":"../114//#testresult/867f9c4fd0151e60","status":"passed","time":{"start":1721180507799,"stop":1721180600520,"duration":92721}},{"uid":"8c3498faf1210a33","reportUrl":"../113//#testresult/8c3498faf1210a33","status":"passed","time":{"start":1721093923313,"stop":1721094010332,"duration":87019}},{"uid":"19519a069f2d3421","reportUrl":"../112//#testresult/19519a069f2d3421","status":"passed","time":{"start":1721007514789,"stop":1721007598483,"duration":83694}},{"uid":"7b37c5b0e5aee954","reportUrl":"../111//#testresult/7b37c5b0e5aee954","status":"passed","time":{"start":1720921350820,"stop":1720921448521,"duration":97701}},{"uid":"3cc6564ca3465735","reportUrl":"../110//#testresult/3cc6564ca3465735","status":"passed","time":{"start":1720834712609,"stop":1720834805187,"duration":92578}},{"uid":"b1145a9629ad7075","reportUrl":"../109//#testresult/b1145a9629ad7075","status":"passed","time":{"start":1720748262799,"stop":1720748363429,"duration":100630}},{"uid":"20502a715b8c82bb","reportUrl":"../108//#testresult/20502a715b8c82bb","status":"passed","time":{"start":1720661896148,"stop":1720661988653,"duration":92505}},{"uid":"9cd7fad5c99bc9d2","reportUrl":"../107//#testresult/9cd7fad5c99bc9d2","status":"passed","time":{"start":1720575523317,"stop":1720575623847,"duration":100530}},{"uid":"e6f8406505c7c07a","reportUrl":"../106//#testresult/e6f8406505c7c07a","status":"passed","time":{"start":1720489081756,"stop":1720489173490,"duration":91734}},{"uid":"4edf83df60b44928","reportUrl":"../105//#testresult/4edf83df60b44928","status":"passed","time":{"start":1720402851814,"stop":1720402945804,"duration":93990}},{"uid":"572520a5b262c0e2","reportUrl":"../104//#testresult/572520a5b262c0e2","status":"passed","time":{"start":1720316295370,"stop":1720316392939,"duration":97569}},{"uid":"55305feebb2a1a81","reportUrl":"../103//#testresult/55305feebb2a1a81","status":"passed","time":{"start":1720229946793,"stop":1720230039512,"duration":92719}},{"uid":"14a647bef1062e59","reportUrl":"../102//#testresult/14a647bef1062e59","status":"passed","time":{"start":1720143388517,"stop":1720143481132,"duration":92615}}]},"tags":["asyncio","group(1)"]},"source":"b5c15538dea68d3b.json","parameterValues":["'/usr/bin/patroni'"]}